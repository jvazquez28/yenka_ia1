2024-12-19 12:31:19,682 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 12:31:21,768 - __main__ - INFO - Initializing OpenAI LLM
2024-12-19 12:31:23,522 - __main__ - INFO - OpenAI LLM initialized successfully
2024-12-19 12:31:23,649 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 12:31:23,649 - __main__ - INFO - Database operations initialized successfully
2024-12-19 12:31:34,720 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 12:31:34,729 - __main__ - INFO - Initializing OpenAI LLM
2024-12-19 12:31:35,300 - __main__ - INFO - OpenAI LLM initialized successfully
2024-12-19 12:31:35,301 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 12:31:35,301 - __main__ - INFO - Database operations initialized successfully
2024-12-19 12:31:35,306 - src.agents.query_parser - INFO - Initializing QueryParser
2024-12-19 12:31:35,307 - src.agents.query_parser - INFO - Parsing query: Mostrar datos diarios de AAPL del último mes
2024-12-19 12:31:37,319 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/completions "HTTP/1.1 200 OK"
2024-12-19 12:31:37,337 - src.agents.query_parser - INFO - Successfully parsed query: {'ticker': 'AAPL', 'start_date': '2023-01-01', 'end_date': '2023-12-31', 'timeframe': 'daily'}
2024-12-19 12:31:37,337 - __main__ - INFO - Parsed query: {'ticker': 'AAPL', 'start_date': '2023-01-01', 'end_date': '2023-12-31', 'timeframe': 'daily'}
2024-12-19 12:31:37,338 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 12:31:37,338 - src.agents.data_fetcher - INFO - Fetching data for ticker: AAPL, timeframe: daily, dates: 2023-01-01 to 2023-12-31
2024-12-19 12:31:37,435 - src.agents.data_fetcher - INFO - Data not found in database. Fetching from API
2024-12-19 12:31:38,393 - src.agents.data_fetcher - INFO - Data fetched from API successfully
2024-12-19 12:31:45,062 - src.database.operations - ERROR - Error saving stock data: 'bar_date'
2024-12-19 12:31:45,063 - src.agents.data_fetcher - ERROR - Error fetching data: 'bar_date'
2024-12-19 12:31:45,063 - __main__ - ERROR - Error processing query: 'bar_date'
2024-12-19 14:07:38,301 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 14:07:58,933 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 14:10:36,937 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 14:10:38,202 - __main__ - INFO - Initializing OpenAI LLM
2024-12-19 14:10:39,585 - __main__ - INFO - OpenAI LLM initialized successfully
2024-12-19 14:10:39,810 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 14:10:39,810 - __main__ - INFO - Database operations initialized successfully
2024-12-19 14:10:56,550 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 14:10:56,557 - __main__ - INFO - Initializing OpenAI LLM
2024-12-19 14:10:56,714 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 14:10:56,717 - __main__ - INFO - Initializing OpenAI LLM
2024-12-19 14:10:57,010 - __main__ - INFO - OpenAI LLM initialized successfully
2024-12-19 14:10:57,010 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 14:10:57,011 - __main__ - INFO - Database operations initialized successfully
2024-12-19 14:10:57,364 - __main__ - INFO - OpenAI LLM initialized successfully
2024-12-19 14:10:57,366 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 14:10:57,367 - __main__ - INFO - Database operations initialized successfully
2024-12-19 14:10:57,375 - src.agents.query_parser - INFO - Initializing QueryParser
2024-12-19 14:10:57,376 - src.agents.query_parser - INFO - Parsing query: Mostrar datos diarios de AAPL
2024-12-19 14:10:58,084 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/completions "HTTP/1.1 404 Not Found"
2024-12-19 14:10:58,088 - src.agents.query_parser - ERROR - Error parsing query: Error code: 404 - {'error': {'message': 'The model `gpt-4.0-turbo-instruct` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}
2024-12-19 14:10:58,089 - __main__ - ERROR - Error processing query: Error code: 404 - {'error': {'message': 'The model `gpt-4.0-turbo-instruct` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}
2024-12-19 14:16:21,789 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 14:16:22,263 - __main__ - INFO - Initializing OpenAI LLM
2024-12-19 14:16:22,462 - __main__ - INFO - OpenAI LLM initialized successfully
2024-12-19 14:16:22,497 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 14:16:22,497 - __main__ - INFO - Database operations initialized successfully
2024-12-19 14:16:29,213 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 14:16:29,218 - __main__ - INFO - Initializing OpenAI LLM
2024-12-19 14:16:29,223 - __main__ - INFO - OpenAI LLM initialized successfully
2024-12-19 14:16:29,226 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 14:16:29,227 - __main__ - INFO - Database operations initialized successfully
2024-12-19 14:16:29,242 - src.agents.query_parser - INFO - Initializing QueryParser
2024-12-19 14:16:29,244 - src.agents.query_parser - INFO - Parsing query: Mostrar datos diarios de AAPL del último mes
2024-12-19 14:16:29,261 - src.agents.query_parser - ERROR - Error parsing query: 

You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2024-12-19 14:16:29,266 - __main__ - ERROR - Error processing query: 

You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2024-12-19 14:30:33,524 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 14:30:33,993 - __main__ - INFO - Initializing OpenAI LLM
2024-12-19 14:30:34,261 - __main__ - INFO - OpenAI LLM initialized successfully
2024-12-19 14:30:34,318 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 14:30:34,319 - __main__ - INFO - Database operations initialized successfully
2024-12-19 14:30:39,032 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 14:30:39,039 - __main__ - INFO - Initializing OpenAI LLM
2024-12-19 14:30:39,044 - __main__ - INFO - OpenAI LLM initialized successfully
2024-12-19 14:30:39,047 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 14:30:39,048 - __main__ - INFO - Database operations initialized successfully
2024-12-19 14:30:39,060 - src.agents.query_parser - INFO - Initializing QueryParser
2024-12-19 14:30:39,062 - src.agents.query_parser - INFO - Parsing query: Mostrar datos diarios de AAPL del último mes
2024-12-19 14:30:39,075 - src.agents.query_parser - ERROR - Error parsing query: 

You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2024-12-19 14:30:39,079 - __main__ - ERROR - Error processing query: 

You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2024-12-19 14:31:01,508 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 14:31:02,251 - __main__ - INFO - Initializing OpenAI LLM
2024-12-19 14:31:02,258 - __main__ - INFO - OpenAI LLM initialized successfully
2024-12-19 14:31:02,305 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 14:31:02,305 - __main__ - INFO - Database operations initialized successfully
2024-12-19 14:31:04,122 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 14:31:04,127 - __main__ - INFO - Initializing OpenAI LLM
2024-12-19 14:31:04,131 - __main__ - INFO - OpenAI LLM initialized successfully
2024-12-19 14:31:04,133 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 14:31:04,134 - __main__ - INFO - Database operations initialized successfully
2024-12-19 14:31:04,148 - __main__ - ERROR - Error processing query: QueryParser.__init__() takes 1 positional argument but 2 were given
2024-12-19 14:38:24,460 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 14:38:41,253 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 14:40:13,295 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 14:40:13,308 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 14:40:13,310 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 14:40:13,311 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 14:40:13,422 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 14:40:13,423 - __main__ - INFO - Database operations initialized successfully
2024-12-19 14:40:13,423 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 14:40:22,689 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 14:40:22,694 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 14:40:22,697 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 14:40:22,698 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 14:40:22,700 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 14:40:22,701 - __main__ - INFO - Database operations initialized successfully
2024-12-19 14:40:22,701 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 14:40:22,718 - src.agents.query_parser - INFO - Parsing query: Mostrar datos diarios de AAPL del último mes
2024-12-19 14:40:22,721 - src.agents.query_parser - ERROR - Error parsing query: 

You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2024-12-19 14:40:22,726 - __main__ - ERROR - Error processing query: 

You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2024-12-19 14:45:08,377 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 14:45:09,284 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 14:45:09,284 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 14:45:09,428 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 14:45:09,460 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 14:45:09,461 - __main__ - INFO - Database operations initialized successfully
2024-12-19 14:45:09,461 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 14:45:20,957 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 14:45:20,963 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 14:45:20,964 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 14:45:21,228 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 14:45:21,229 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 14:45:21,229 - __main__ - INFO - Database operations initialized successfully
2024-12-19 14:45:21,230 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 14:45:21,233 - src.agents.query_parser - INFO - Parsing query: Mostrar datos diarios de AAPL del último mes
2024-12-19 14:45:22,087 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 14:45:22,098 - src.agents.query_parser - INFO - Successfully parsed query: {'ticker': 'AAPL', 'start_date': None, 'end_date': None, 'timeframe': 'daily'}
2024-12-19 14:45:22,098 - __main__ - INFO - Parsed query: {'ticker': 'AAPL', 'start_date': None, 'end_date': None, 'timeframe': 'daily'}
2024-12-19 14:45:22,098 - src.agents.data_fetcher - INFO - Fetching data for ticker: AAPL, timeframe: daily, dates: None to None
2024-12-19 14:45:22,188 - src.agents.data_fetcher - INFO - Data not found in database. Fetching from API
2024-12-19 14:45:23,257 - src.api.alpha_vantage - INFO - Fetched 6324 records from Alpha Vantage for ticker: AAPL
2024-12-19 14:45:23,259 - src.agents.data_fetcher - INFO - Data fetched from API successfully
2024-12-19 14:45:23,318 - src.database.operations - INFO - Added new fundamental data for ticker: AAPL
2024-12-19 14:45:24,385 - src.database.operations - INFO - Saved 6324 OHLC records for ticker: AAPL
2024-12-19 14:45:24,389 - src.agents.data_fetcher - INFO - Fetched data saved to database
2024-12-19 18:00:49,500 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 18:00:55,133 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 18:00:55,133 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 18:00:55,386 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 18:00:55,728 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 18:00:55,728 - __main__ - INFO - Database operations initialized successfully
2024-12-19 18:00:55,728 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 18:01:02,702 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 18:01:02,713 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 18:01:02,716 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 18:01:02,984 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 18:01:02,984 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 18:01:02,984 - __main__ - INFO - Database operations initialized successfully
2024-12-19 18:01:02,999 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 18:01:03,002 - src.agents.query_parser - INFO - Parsing query: Mostrar datos diarios de AAPL del último mes
2024-12-19 18:01:03,771 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 18:01:03,788 - src.agents.query_parser - INFO - Successfully parsed query: {'ticker': 'AAPL', 'start_date': None, 'end_date': None, 'timeframe': 'daily'}
2024-12-19 18:01:03,789 - __main__ - INFO - Parsed query: {'ticker': 'AAPL', 'start_date': None, 'end_date': None, 'timeframe': 'daily'}
2024-12-19 18:01:03,789 - src.agents.data_fetcher - INFO - Fetching data for ticker: AAPL, timeframe: daily, dates: None to None
2024-12-19 18:01:08,000 - src.database.operations - ERROR - Error retrieving stock data: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-12-19 18:01:08,000 - src.agents.data_fetcher - ERROR - Error fetching data: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-12-19 18:01:08,000 - __main__ - ERROR - Error processing query: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-12-19 18:18:56,487 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 18:18:58,263 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 18:18:58,263 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 18:18:58,576 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 18:18:58,684 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 18:18:58,684 - __main__ - INFO - Database operations initialized successfully
2024-12-19 18:18:58,684 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 18:19:08,410 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 18:19:08,415 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 18:19:08,415 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 18:19:08,643 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 18:19:08,643 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 18:19:08,643 - __main__ - INFO - Database operations initialized successfully
2024-12-19 18:19:08,643 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 18:19:08,658 - src.agents.query_parser - INFO - Parsing query: Mostrar datos diarios de AAPL del último mes
2024-12-19 18:19:09,443 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 18:19:09,461 - src.agents.query_parser - INFO - Successfully parsed query: {'ticker': 'AAPL', 'start_date': None, 'end_date': None, 'timeframe': 'daily'}
2024-12-19 18:19:09,462 - __main__ - INFO - Parsed query: {'ticker': 'AAPL', 'start_date': None, 'end_date': None, 'timeframe': 'daily'}
2024-12-19 18:19:09,463 - src.agents.data_fetcher - INFO - Fetching data for ticker: AAPL, timeframe: daily, dates: None to None
2024-12-19 18:19:09,667 - src.agents.data_fetcher - INFO - Data not found in database. Fetching from API
2024-12-19 18:19:10,977 - src.api.alpha_vantage - INFO - Fetched 6324 records from Alpha Vantage for ticker: AAPL
2024-12-19 18:19:10,977 - src.agents.data_fetcher - INFO - Data fetched from API successfully
2024-12-19 18:19:12,032 - src.database.operations - ERROR - Error saving stock data: (psycopg2.errors.UniqueViolation) llave duplicada viola restricción de unicidad «ohlc_data_ticker_bar_date_bar_time_timeframe_key»
DETAIL:  Ya existe la llave (ticker, bar_date, bar_time, timeframe)=(AAPL, 2024-12-18, 00:00:00, daily).

[SQL: INSERT INTO ohlc_data (ticker, bar_date, bar_time, timeframe, open_price, high_price, low_price, close_price, volume) VALUES (%(ticker__0)s, %(bar_date__0)s, %(bar_time__0)s, %(timeframe__0)s, %(open_price__0)s, %(high_price__0)s, %(low_price__0)s, % ... 176783 characters truncated ... %(open_price__999)s, %(high_price__999)s, %(low_price__999)s, %(close_price__999)s, %(volume__999)s)]
[parameters: {'close_price__0': '248.0500', 'high_price__0': '254.2800', 'low_price__0': '247.7400', 'open_price__0': '252.1600', 'bar_time__0': datetime.time(0, 0), 'timeframe__0': 'daily', 'bar_date__0': datetime.date(2024, 12, 18), 'volume__0': '56774101', 'ticker__0': 'AAPL', 'close_price__1': '253.4800', 'high_price__1': '253.8300', 'low_price__1': '249.7800', 'open_price__1': '250.0800', 'bar_time__1': datetime.time(0, 0), 'timeframe__1': 'daily', 'bar_date__1': datetime.date(2024, 12, 17), 'volume__1': '51356360', 'ticker__1': 'AAPL', 'close_price__2': '251.0400', 'high_price__2': '251.3800', 'low_price__2': '247.6500', 'open_price__2': '247.9900', 'bar_time__2': datetime.time(0, 0), 'timeframe__2': 'daily', 'bar_date__2': datetime.date(2024, 12, 16), 'volume__2': '51694753', 'ticker__2': 'AAPL', 'close_price__3': '248.1300', 'high_price__3': '249.2902', 'low_price__3': '246.2400', 'open_price__3': '247.8150', 'bar_time__3': datetime.time(0, 0), 'timeframe__3': 'daily', 'bar_date__3': datetime.date(2024, 12, 13), 'volume__3': '33155290', 'ticker__3': 'AAPL', 'close_price__4': '247.9600', 'high_price__4': '248.7400', 'low_price__4': '245.6800', 'open_price__4': '246.8900', 'bar_time__4': datetime.time(0, 0), 'timeframe__4': 'daily', 'bar_date__4': datetime.date(2024, 12, 12), 'volume__4': '32777532', 'ticker__4': 'AAPL', 'close_price__5': '246.4900', 'high_price__5': '250.8000', 'low_price__5': '246.2601', 'open_price__5': '247.9600', 'bar_time__5': datetime.time(0, 0) ... 8900 parameters truncated ... 'bar_time__994': datetime.time(0, 0), 'timeframe__994': 'daily', 'bar_date__994': datetime.date(2021, 1, 6), 'volume__994': '155087970', 'ticker__994': 'AAPL', 'close_price__995': '131.0100', 'high_price__995': '131.7400', 'low_price__995': '128.4300', 'open_price__995': '128.8900', 'bar_time__995': datetime.time(0, 0), 'timeframe__995': 'daily', 'bar_date__995': datetime.date(2021, 1, 5), 'volume__995': '97664898', 'ticker__995': 'AAPL', 'close_price__996': '129.4100', 'high_price__996': '133.6116', 'low_price__996': '126.7600', 'open_price__996': '133.5200', 'bar_time__996': datetime.time(0, 0), 'timeframe__996': 'daily', 'bar_date__996': datetime.date(2021, 1, 4), 'volume__996': '143301887', 'ticker__996': 'AAPL', 'close_price__997': '132.6900', 'high_price__997': '134.7400', 'low_price__997': '131.7200', 'open_price__997': '134.0800', 'bar_time__997': datetime.time(0, 0), 'timeframe__997': 'daily', 'bar_date__997': datetime.date(2020, 12, 31), 'volume__997': '99116586', 'ticker__997': 'AAPL', 'close_price__998': '133.7200', 'high_price__998': '135.9900', 'low_price__998': '133.4000', 'open_price__998': '135.5800', 'bar_time__998': datetime.time(0, 0), 'timeframe__998': 'daily', 'bar_date__998': datetime.date(2020, 12, 30), 'volume__998': '96452124', 'ticker__998': 'AAPL', 'close_price__999': '134.8700', 'high_price__999': '138.7890', 'low_price__999': '134.3409', 'open_price__999': '138.0500', 'bar_time__999': datetime.time(0, 0), 'timeframe__999': 'daily', 'bar_date__999': datetime.date(2020, 12, 29), 'volume__999': '121047324', 'ticker__999': 'AAPL'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-12-19 18:19:12,034 - src.agents.data_fetcher - ERROR - Error fetching data: (psycopg2.errors.UniqueViolation) llave duplicada viola restricción de unicidad «ohlc_data_ticker_bar_date_bar_time_timeframe_key»
DETAIL:  Ya existe la llave (ticker, bar_date, bar_time, timeframe)=(AAPL, 2024-12-18, 00:00:00, daily).

[SQL: INSERT INTO ohlc_data (ticker, bar_date, bar_time, timeframe, open_price, high_price, low_price, close_price, volume) VALUES (%(ticker__0)s, %(bar_date__0)s, %(bar_time__0)s, %(timeframe__0)s, %(open_price__0)s, %(high_price__0)s, %(low_price__0)s, % ... 176783 characters truncated ... %(open_price__999)s, %(high_price__999)s, %(low_price__999)s, %(close_price__999)s, %(volume__999)s)]
[parameters: {'close_price__0': '248.0500', 'high_price__0': '254.2800', 'low_price__0': '247.7400', 'open_price__0': '252.1600', 'bar_time__0': datetime.time(0, 0), 'timeframe__0': 'daily', 'bar_date__0': datetime.date(2024, 12, 18), 'volume__0': '56774101', 'ticker__0': 'AAPL', 'close_price__1': '253.4800', 'high_price__1': '253.8300', 'low_price__1': '249.7800', 'open_price__1': '250.0800', 'bar_time__1': datetime.time(0, 0), 'timeframe__1': 'daily', 'bar_date__1': datetime.date(2024, 12, 17), 'volume__1': '51356360', 'ticker__1': 'AAPL', 'close_price__2': '251.0400', 'high_price__2': '251.3800', 'low_price__2': '247.6500', 'open_price__2': '247.9900', 'bar_time__2': datetime.time(0, 0), 'timeframe__2': 'daily', 'bar_date__2': datetime.date(2024, 12, 16), 'volume__2': '51694753', 'ticker__2': 'AAPL', 'close_price__3': '248.1300', 'high_price__3': '249.2902', 'low_price__3': '246.2400', 'open_price__3': '247.8150', 'bar_time__3': datetime.time(0, 0), 'timeframe__3': 'daily', 'bar_date__3': datetime.date(2024, 12, 13), 'volume__3': '33155290', 'ticker__3': 'AAPL', 'close_price__4': '247.9600', 'high_price__4': '248.7400', 'low_price__4': '245.6800', 'open_price__4': '246.8900', 'bar_time__4': datetime.time(0, 0), 'timeframe__4': 'daily', 'bar_date__4': datetime.date(2024, 12, 12), 'volume__4': '32777532', 'ticker__4': 'AAPL', 'close_price__5': '246.4900', 'high_price__5': '250.8000', 'low_price__5': '246.2601', 'open_price__5': '247.9600', 'bar_time__5': datetime.time(0, 0) ... 8900 parameters truncated ... 'bar_time__994': datetime.time(0, 0), 'timeframe__994': 'daily', 'bar_date__994': datetime.date(2021, 1, 6), 'volume__994': '155087970', 'ticker__994': 'AAPL', 'close_price__995': '131.0100', 'high_price__995': '131.7400', 'low_price__995': '128.4300', 'open_price__995': '128.8900', 'bar_time__995': datetime.time(0, 0), 'timeframe__995': 'daily', 'bar_date__995': datetime.date(2021, 1, 5), 'volume__995': '97664898', 'ticker__995': 'AAPL', 'close_price__996': '129.4100', 'high_price__996': '133.6116', 'low_price__996': '126.7600', 'open_price__996': '133.5200', 'bar_time__996': datetime.time(0, 0), 'timeframe__996': 'daily', 'bar_date__996': datetime.date(2021, 1, 4), 'volume__996': '143301887', 'ticker__996': 'AAPL', 'close_price__997': '132.6900', 'high_price__997': '134.7400', 'low_price__997': '131.7200', 'open_price__997': '134.0800', 'bar_time__997': datetime.time(0, 0), 'timeframe__997': 'daily', 'bar_date__997': datetime.date(2020, 12, 31), 'volume__997': '99116586', 'ticker__997': 'AAPL', 'close_price__998': '133.7200', 'high_price__998': '135.9900', 'low_price__998': '133.4000', 'open_price__998': '135.5800', 'bar_time__998': datetime.time(0, 0), 'timeframe__998': 'daily', 'bar_date__998': datetime.date(2020, 12, 30), 'volume__998': '96452124', 'ticker__998': 'AAPL', 'close_price__999': '134.8700', 'high_price__999': '138.7890', 'low_price__999': '134.3409', 'open_price__999': '138.0500', 'bar_time__999': datetime.time(0, 0), 'timeframe__999': 'daily', 'bar_date__999': datetime.date(2020, 12, 29), 'volume__999': '121047324', 'ticker__999': 'AAPL'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-12-19 18:19:12,036 - __main__ - ERROR - Error processing query: (psycopg2.errors.UniqueViolation) llave duplicada viola restricción de unicidad «ohlc_data_ticker_bar_date_bar_time_timeframe_key»
DETAIL:  Ya existe la llave (ticker, bar_date, bar_time, timeframe)=(AAPL, 2024-12-18, 00:00:00, daily).

[SQL: INSERT INTO ohlc_data (ticker, bar_date, bar_time, timeframe, open_price, high_price, low_price, close_price, volume) VALUES (%(ticker__0)s, %(bar_date__0)s, %(bar_time__0)s, %(timeframe__0)s, %(open_price__0)s, %(high_price__0)s, %(low_price__0)s, % ... 176783 characters truncated ... %(open_price__999)s, %(high_price__999)s, %(low_price__999)s, %(close_price__999)s, %(volume__999)s)]
[parameters: {'close_price__0': '248.0500', 'high_price__0': '254.2800', 'low_price__0': '247.7400', 'open_price__0': '252.1600', 'bar_time__0': datetime.time(0, 0), 'timeframe__0': 'daily', 'bar_date__0': datetime.date(2024, 12, 18), 'volume__0': '56774101', 'ticker__0': 'AAPL', 'close_price__1': '253.4800', 'high_price__1': '253.8300', 'low_price__1': '249.7800', 'open_price__1': '250.0800', 'bar_time__1': datetime.time(0, 0), 'timeframe__1': 'daily', 'bar_date__1': datetime.date(2024, 12, 17), 'volume__1': '51356360', 'ticker__1': 'AAPL', 'close_price__2': '251.0400', 'high_price__2': '251.3800', 'low_price__2': '247.6500', 'open_price__2': '247.9900', 'bar_time__2': datetime.time(0, 0), 'timeframe__2': 'daily', 'bar_date__2': datetime.date(2024, 12, 16), 'volume__2': '51694753', 'ticker__2': 'AAPL', 'close_price__3': '248.1300', 'high_price__3': '249.2902', 'low_price__3': '246.2400', 'open_price__3': '247.8150', 'bar_time__3': datetime.time(0, 0), 'timeframe__3': 'daily', 'bar_date__3': datetime.date(2024, 12, 13), 'volume__3': '33155290', 'ticker__3': 'AAPL', 'close_price__4': '247.9600', 'high_price__4': '248.7400', 'low_price__4': '245.6800', 'open_price__4': '246.8900', 'bar_time__4': datetime.time(0, 0), 'timeframe__4': 'daily', 'bar_date__4': datetime.date(2024, 12, 12), 'volume__4': '32777532', 'ticker__4': 'AAPL', 'close_price__5': '246.4900', 'high_price__5': '250.8000', 'low_price__5': '246.2601', 'open_price__5': '247.9600', 'bar_time__5': datetime.time(0, 0) ... 8900 parameters truncated ... 'bar_time__994': datetime.time(0, 0), 'timeframe__994': 'daily', 'bar_date__994': datetime.date(2021, 1, 6), 'volume__994': '155087970', 'ticker__994': 'AAPL', 'close_price__995': '131.0100', 'high_price__995': '131.7400', 'low_price__995': '128.4300', 'open_price__995': '128.8900', 'bar_time__995': datetime.time(0, 0), 'timeframe__995': 'daily', 'bar_date__995': datetime.date(2021, 1, 5), 'volume__995': '97664898', 'ticker__995': 'AAPL', 'close_price__996': '129.4100', 'high_price__996': '133.6116', 'low_price__996': '126.7600', 'open_price__996': '133.5200', 'bar_time__996': datetime.time(0, 0), 'timeframe__996': 'daily', 'bar_date__996': datetime.date(2021, 1, 4), 'volume__996': '143301887', 'ticker__996': 'AAPL', 'close_price__997': '132.6900', 'high_price__997': '134.7400', 'low_price__997': '131.7200', 'open_price__997': '134.0800', 'bar_time__997': datetime.time(0, 0), 'timeframe__997': 'daily', 'bar_date__997': datetime.date(2020, 12, 31), 'volume__997': '99116586', 'ticker__997': 'AAPL', 'close_price__998': '133.7200', 'high_price__998': '135.9900', 'low_price__998': '133.4000', 'open_price__998': '135.5800', 'bar_time__998': datetime.time(0, 0), 'timeframe__998': 'daily', 'bar_date__998': datetime.date(2020, 12, 30), 'volume__998': '96452124', 'ticker__998': 'AAPL', 'close_price__999': '134.8700', 'high_price__999': '138.7890', 'low_price__999': '134.3409', 'open_price__999': '138.0500', 'bar_time__999': datetime.time(0, 0), 'timeframe__999': 'daily', 'bar_date__999': datetime.date(2020, 12, 29), 'volume__999': '121047324', 'ticker__999': 'AAPL'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-12-19 18:26:00,287 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 18:26:01,156 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 18:26:01,157 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 18:26:01,271 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 18:26:01,335 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 18:26:01,336 - __main__ - INFO - Database operations initialized successfully
2024-12-19 18:26:01,336 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 18:26:05,160 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 18:26:05,161 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 18:26:05,161 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 18:26:05,410 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 18:26:05,410 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 18:26:05,410 - __main__ - INFO - Database operations initialized successfully
2024-12-19 18:26:05,410 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 18:26:05,410 - src.agents.query_parser - INFO - Parsing query: Mostrar datos diarios de AAPL del último mes
2024-12-19 18:26:06,859 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 18:26:06,874 - src.agents.query_parser - INFO - Successfully parsed query: {'ticker': 'AAPL', 'start_date': None, 'end_date': None, 'timeframe': 'daily'}
2024-12-19 18:26:06,874 - __main__ - INFO - Parsed query: {'ticker': 'AAPL', 'start_date': None, 'end_date': None, 'timeframe': 'daily'}
2024-12-19 18:26:06,875 - src.agents.data_fetcher - INFO - Fetching data for ticker: AAPL, timeframe: daily, dates: None to None
2024-12-19 18:26:06,966 - src.agents.data_fetcher - INFO - Data not found in database. Fetching from API
2024-12-19 18:26:08,248 - src.api.alpha_vantage - INFO - Fetched 6324 records from Alpha Vantage for ticker: AAPL
2024-12-19 18:26:08,250 - src.agents.data_fetcher - INFO - Data fetched from API successfully
2024-12-19 18:26:08,999 - src.database.operations - ERROR - Error saving stock data: (psycopg2.errors.UniqueViolation) llave duplicada viola restricción de unicidad «ohlc_data_ticker_bar_date_bar_time_timeframe_key»
DETAIL:  Ya existe la llave (ticker, bar_date, bar_time, timeframe)=(AAPL, 2024-12-18, 00:00:00, daily).

[SQL: INSERT INTO ohlc_data (ticker, bar_date, bar_time, timeframe, open_price, high_price, low_price, close_price, volume) VALUES (%(ticker__0)s, %(bar_date__0)s, %(bar_time__0)s, %(timeframe__0)s, %(open_price__0)s, %(high_price__0)s, %(low_price__0)s, % ... 176783 characters truncated ... %(open_price__999)s, %(high_price__999)s, %(low_price__999)s, %(close_price__999)s, %(volume__999)s)]
[parameters: {'timeframe__0': 'daily', 'bar_date__0': datetime.date(2024, 12, 18), 'bar_time__0': datetime.time(0, 0), 'open_price__0': '252.1600', 'volume__0': '56774101', 'ticker__0': 'AAPL', 'low_price__0': '247.7400', 'high_price__0': '254.2800', 'close_price__0': '248.0500', 'timeframe__1': 'daily', 'bar_date__1': datetime.date(2024, 12, 17), 'bar_time__1': datetime.time(0, 0), 'open_price__1': '250.0800', 'volume__1': '51356360', 'ticker__1': 'AAPL', 'low_price__1': '249.7800', 'high_price__1': '253.8300', 'close_price__1': '253.4800', 'timeframe__2': 'daily', 'bar_date__2': datetime.date(2024, 12, 16), 'bar_time__2': datetime.time(0, 0), 'open_price__2': '247.9900', 'volume__2': '51694753', 'ticker__2': 'AAPL', 'low_price__2': '247.6500', 'high_price__2': '251.3800', 'close_price__2': '251.0400', 'timeframe__3': 'daily', 'bar_date__3': datetime.date(2024, 12, 13), 'bar_time__3': datetime.time(0, 0), 'open_price__3': '247.8150', 'volume__3': '33155290', 'ticker__3': 'AAPL', 'low_price__3': '246.2400', 'high_price__3': '249.2902', 'close_price__3': '248.1300', 'timeframe__4': 'daily', 'bar_date__4': datetime.date(2024, 12, 12), 'bar_time__4': datetime.time(0, 0), 'open_price__4': '246.8900', 'volume__4': '32777532', 'ticker__4': 'AAPL', 'low_price__4': '245.6800', 'high_price__4': '248.7400', 'close_price__4': '247.9600', 'timeframe__5': 'daily', 'bar_date__5': datetime.date(2024, 12, 11), 'bar_time__5': datetime.time(0, 0), 'open_price__5': '247.9600', 'volume__5': '45205814' ... 8900 parameters truncated ... 'volume__994': '155087970', 'ticker__994': 'AAPL', 'low_price__994': '126.3820', 'high_price__994': '131.0499', 'close_price__994': '126.6000', 'timeframe__995': 'daily', 'bar_date__995': datetime.date(2021, 1, 5), 'bar_time__995': datetime.time(0, 0), 'open_price__995': '128.8900', 'volume__995': '97664898', 'ticker__995': 'AAPL', 'low_price__995': '128.4300', 'high_price__995': '131.7400', 'close_price__995': '131.0100', 'timeframe__996': 'daily', 'bar_date__996': datetime.date(2021, 1, 4), 'bar_time__996': datetime.time(0, 0), 'open_price__996': '133.5200', 'volume__996': '143301887', 'ticker__996': 'AAPL', 'low_price__996': '126.7600', 'high_price__996': '133.6116', 'close_price__996': '129.4100', 'timeframe__997': 'daily', 'bar_date__997': datetime.date(2020, 12, 31), 'bar_time__997': datetime.time(0, 0), 'open_price__997': '134.0800', 'volume__997': '99116586', 'ticker__997': 'AAPL', 'low_price__997': '131.7200', 'high_price__997': '134.7400', 'close_price__997': '132.6900', 'timeframe__998': 'daily', 'bar_date__998': datetime.date(2020, 12, 30), 'bar_time__998': datetime.time(0, 0), 'open_price__998': '135.5800', 'volume__998': '96452124', 'ticker__998': 'AAPL', 'low_price__998': '133.4000', 'high_price__998': '135.9900', 'close_price__998': '133.7200', 'timeframe__999': 'daily', 'bar_date__999': datetime.date(2020, 12, 29), 'bar_time__999': datetime.time(0, 0), 'open_price__999': '138.0500', 'volume__999': '121047324', 'ticker__999': 'AAPL', 'low_price__999': '134.3409', 'high_price__999': '138.7890', 'close_price__999': '134.8700'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-12-19 18:26:09,001 - src.agents.data_fetcher - ERROR - Error fetching data: (psycopg2.errors.UniqueViolation) llave duplicada viola restricción de unicidad «ohlc_data_ticker_bar_date_bar_time_timeframe_key»
DETAIL:  Ya existe la llave (ticker, bar_date, bar_time, timeframe)=(AAPL, 2024-12-18, 00:00:00, daily).

[SQL: INSERT INTO ohlc_data (ticker, bar_date, bar_time, timeframe, open_price, high_price, low_price, close_price, volume) VALUES (%(ticker__0)s, %(bar_date__0)s, %(bar_time__0)s, %(timeframe__0)s, %(open_price__0)s, %(high_price__0)s, %(low_price__0)s, % ... 176783 characters truncated ... %(open_price__999)s, %(high_price__999)s, %(low_price__999)s, %(close_price__999)s, %(volume__999)s)]
[parameters: {'timeframe__0': 'daily', 'bar_date__0': datetime.date(2024, 12, 18), 'bar_time__0': datetime.time(0, 0), 'open_price__0': '252.1600', 'volume__0': '56774101', 'ticker__0': 'AAPL', 'low_price__0': '247.7400', 'high_price__0': '254.2800', 'close_price__0': '248.0500', 'timeframe__1': 'daily', 'bar_date__1': datetime.date(2024, 12, 17), 'bar_time__1': datetime.time(0, 0), 'open_price__1': '250.0800', 'volume__1': '51356360', 'ticker__1': 'AAPL', 'low_price__1': '249.7800', 'high_price__1': '253.8300', 'close_price__1': '253.4800', 'timeframe__2': 'daily', 'bar_date__2': datetime.date(2024, 12, 16), 'bar_time__2': datetime.time(0, 0), 'open_price__2': '247.9900', 'volume__2': '51694753', 'ticker__2': 'AAPL', 'low_price__2': '247.6500', 'high_price__2': '251.3800', 'close_price__2': '251.0400', 'timeframe__3': 'daily', 'bar_date__3': datetime.date(2024, 12, 13), 'bar_time__3': datetime.time(0, 0), 'open_price__3': '247.8150', 'volume__3': '33155290', 'ticker__3': 'AAPL', 'low_price__3': '246.2400', 'high_price__3': '249.2902', 'close_price__3': '248.1300', 'timeframe__4': 'daily', 'bar_date__4': datetime.date(2024, 12, 12), 'bar_time__4': datetime.time(0, 0), 'open_price__4': '246.8900', 'volume__4': '32777532', 'ticker__4': 'AAPL', 'low_price__4': '245.6800', 'high_price__4': '248.7400', 'close_price__4': '247.9600', 'timeframe__5': 'daily', 'bar_date__5': datetime.date(2024, 12, 11), 'bar_time__5': datetime.time(0, 0), 'open_price__5': '247.9600', 'volume__5': '45205814' ... 8900 parameters truncated ... 'volume__994': '155087970', 'ticker__994': 'AAPL', 'low_price__994': '126.3820', 'high_price__994': '131.0499', 'close_price__994': '126.6000', 'timeframe__995': 'daily', 'bar_date__995': datetime.date(2021, 1, 5), 'bar_time__995': datetime.time(0, 0), 'open_price__995': '128.8900', 'volume__995': '97664898', 'ticker__995': 'AAPL', 'low_price__995': '128.4300', 'high_price__995': '131.7400', 'close_price__995': '131.0100', 'timeframe__996': 'daily', 'bar_date__996': datetime.date(2021, 1, 4), 'bar_time__996': datetime.time(0, 0), 'open_price__996': '133.5200', 'volume__996': '143301887', 'ticker__996': 'AAPL', 'low_price__996': '126.7600', 'high_price__996': '133.6116', 'close_price__996': '129.4100', 'timeframe__997': 'daily', 'bar_date__997': datetime.date(2020, 12, 31), 'bar_time__997': datetime.time(0, 0), 'open_price__997': '134.0800', 'volume__997': '99116586', 'ticker__997': 'AAPL', 'low_price__997': '131.7200', 'high_price__997': '134.7400', 'close_price__997': '132.6900', 'timeframe__998': 'daily', 'bar_date__998': datetime.date(2020, 12, 30), 'bar_time__998': datetime.time(0, 0), 'open_price__998': '135.5800', 'volume__998': '96452124', 'ticker__998': 'AAPL', 'low_price__998': '133.4000', 'high_price__998': '135.9900', 'close_price__998': '133.7200', 'timeframe__999': 'daily', 'bar_date__999': datetime.date(2020, 12, 29), 'bar_time__999': datetime.time(0, 0), 'open_price__999': '138.0500', 'volume__999': '121047324', 'ticker__999': 'AAPL', 'low_price__999': '134.3409', 'high_price__999': '138.7890', 'close_price__999': '134.8700'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-12-19 18:26:09,002 - __main__ - ERROR - Error processing query: (psycopg2.errors.UniqueViolation) llave duplicada viola restricción de unicidad «ohlc_data_ticker_bar_date_bar_time_timeframe_key»
DETAIL:  Ya existe la llave (ticker, bar_date, bar_time, timeframe)=(AAPL, 2024-12-18, 00:00:00, daily).

[SQL: INSERT INTO ohlc_data (ticker, bar_date, bar_time, timeframe, open_price, high_price, low_price, close_price, volume) VALUES (%(ticker__0)s, %(bar_date__0)s, %(bar_time__0)s, %(timeframe__0)s, %(open_price__0)s, %(high_price__0)s, %(low_price__0)s, % ... 176783 characters truncated ... %(open_price__999)s, %(high_price__999)s, %(low_price__999)s, %(close_price__999)s, %(volume__999)s)]
[parameters: {'timeframe__0': 'daily', 'bar_date__0': datetime.date(2024, 12, 18), 'bar_time__0': datetime.time(0, 0), 'open_price__0': '252.1600', 'volume__0': '56774101', 'ticker__0': 'AAPL', 'low_price__0': '247.7400', 'high_price__0': '254.2800', 'close_price__0': '248.0500', 'timeframe__1': 'daily', 'bar_date__1': datetime.date(2024, 12, 17), 'bar_time__1': datetime.time(0, 0), 'open_price__1': '250.0800', 'volume__1': '51356360', 'ticker__1': 'AAPL', 'low_price__1': '249.7800', 'high_price__1': '253.8300', 'close_price__1': '253.4800', 'timeframe__2': 'daily', 'bar_date__2': datetime.date(2024, 12, 16), 'bar_time__2': datetime.time(0, 0), 'open_price__2': '247.9900', 'volume__2': '51694753', 'ticker__2': 'AAPL', 'low_price__2': '247.6500', 'high_price__2': '251.3800', 'close_price__2': '251.0400', 'timeframe__3': 'daily', 'bar_date__3': datetime.date(2024, 12, 13), 'bar_time__3': datetime.time(0, 0), 'open_price__3': '247.8150', 'volume__3': '33155290', 'ticker__3': 'AAPL', 'low_price__3': '246.2400', 'high_price__3': '249.2902', 'close_price__3': '248.1300', 'timeframe__4': 'daily', 'bar_date__4': datetime.date(2024, 12, 12), 'bar_time__4': datetime.time(0, 0), 'open_price__4': '246.8900', 'volume__4': '32777532', 'ticker__4': 'AAPL', 'low_price__4': '245.6800', 'high_price__4': '248.7400', 'close_price__4': '247.9600', 'timeframe__5': 'daily', 'bar_date__5': datetime.date(2024, 12, 11), 'bar_time__5': datetime.time(0, 0), 'open_price__5': '247.9600', 'volume__5': '45205814' ... 8900 parameters truncated ... 'volume__994': '155087970', 'ticker__994': 'AAPL', 'low_price__994': '126.3820', 'high_price__994': '131.0499', 'close_price__994': '126.6000', 'timeframe__995': 'daily', 'bar_date__995': datetime.date(2021, 1, 5), 'bar_time__995': datetime.time(0, 0), 'open_price__995': '128.8900', 'volume__995': '97664898', 'ticker__995': 'AAPL', 'low_price__995': '128.4300', 'high_price__995': '131.7400', 'close_price__995': '131.0100', 'timeframe__996': 'daily', 'bar_date__996': datetime.date(2021, 1, 4), 'bar_time__996': datetime.time(0, 0), 'open_price__996': '133.5200', 'volume__996': '143301887', 'ticker__996': 'AAPL', 'low_price__996': '126.7600', 'high_price__996': '133.6116', 'close_price__996': '129.4100', 'timeframe__997': 'daily', 'bar_date__997': datetime.date(2020, 12, 31), 'bar_time__997': datetime.time(0, 0), 'open_price__997': '134.0800', 'volume__997': '99116586', 'ticker__997': 'AAPL', 'low_price__997': '131.7200', 'high_price__997': '134.7400', 'close_price__997': '132.6900', 'timeframe__998': 'daily', 'bar_date__998': datetime.date(2020, 12, 30), 'bar_time__998': datetime.time(0, 0), 'open_price__998': '135.5800', 'volume__998': '96452124', 'ticker__998': 'AAPL', 'low_price__998': '133.4000', 'high_price__998': '135.9900', 'close_price__998': '133.7200', 'timeframe__999': 'daily', 'bar_date__999': datetime.date(2020, 12, 29), 'bar_time__999': datetime.time(0, 0), 'open_price__999': '138.0500', 'volume__999': '121047324', 'ticker__999': 'AAPL', 'low_price__999': '134.3409', 'high_price__999': '138.7890', 'close_price__999': '134.8700'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-12-19 18:31:43,109 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 18:31:43,960 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 18:31:43,974 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 18:31:44,092 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 18:31:44,131 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 18:31:44,131 - __main__ - INFO - Database operations initialized successfully
2024-12-19 18:31:44,131 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 18:31:48,611 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 18:31:48,616 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 18:31:48,617 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 18:31:48,924 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 18:31:48,924 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 18:31:48,924 - __main__ - INFO - Database operations initialized successfully
2024-12-19 18:31:48,924 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 18:31:48,933 - src.agents.query_parser - INFO - Parsing query: Mostrar datos diarios de AAPL del último mes
2024-12-19 18:31:50,443 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 18:31:50,443 - src.agents.query_parser - INFO - Successfully parsed query: {'ticker': 'AAPL', 'start_date': None, 'end_date': None, 'timeframe': 'daily'}
2024-12-19 18:31:50,443 - __main__ - INFO - Parsed query: {'ticker': 'AAPL', 'start_date': None, 'end_date': None, 'timeframe': 'daily'}
2024-12-19 18:31:50,443 - src.agents.data_fetcher - INFO - Fetching data for ticker: AAPL, timeframe: daily, dates: None to None
2024-12-19 18:31:50,550 - src.agents.data_fetcher - INFO - Data not found in database. Fetching from API
2024-12-19 18:31:55,269 - src.api.alpha_vantage - INFO - Fetched 6324 records from Alpha Vantage for ticker: AAPL
2024-12-19 18:31:55,271 - src.agents.data_fetcher - INFO - Data fetched from API successfully
2024-12-19 18:31:56,184 - src.database.operations - ERROR - Error saving stock data: (psycopg2.errors.UniqueViolation) llave duplicada viola restricción de unicidad «ohlc_data_ticker_bar_date_bar_time_timeframe_key»
DETAIL:  Ya existe la llave (ticker, bar_date, bar_time, timeframe)=(AAPL, 2024-12-18, 00:00:00, daily).

[SQL: INSERT INTO ohlc_data (ticker, bar_date, bar_time, timeframe, open_price, high_price, low_price, close_price, volume) VALUES (%(ticker__0)s, %(bar_date__0)s, %(bar_time__0)s, %(timeframe__0)s, %(open_price__0)s, %(high_price__0)s, %(low_price__0)s, % ... 176783 characters truncated ... %(open_price__999)s, %(high_price__999)s, %(low_price__999)s, %(close_price__999)s, %(volume__999)s)]
[parameters: {'low_price__0': '247.7400', 'volume__0': '56774101', 'ticker__0': 'AAPL', 'open_price__0': '252.1600', 'close_price__0': '248.0500', 'timeframe__0': 'daily', 'bar_time__0': datetime.time(0, 0), 'high_price__0': '254.2800', 'bar_date__0': datetime.date(2024, 12, 18), 'low_price__1': '249.7800', 'volume__1': '51356360', 'ticker__1': 'AAPL', 'open_price__1': '250.0800', 'close_price__1': '253.4800', 'timeframe__1': 'daily', 'bar_time__1': datetime.time(0, 0), 'high_price__1': '253.8300', 'bar_date__1': datetime.date(2024, 12, 17), 'low_price__2': '247.6500', 'volume__2': '51694753', 'ticker__2': 'AAPL', 'open_price__2': '247.9900', 'close_price__2': '251.0400', 'timeframe__2': 'daily', 'bar_time__2': datetime.time(0, 0), 'high_price__2': '251.3800', 'bar_date__2': datetime.date(2024, 12, 16), 'low_price__3': '246.2400', 'volume__3': '33155290', 'ticker__3': 'AAPL', 'open_price__3': '247.8150', 'close_price__3': '248.1300', 'timeframe__3': 'daily', 'bar_time__3': datetime.time(0, 0), 'high_price__3': '249.2902', 'bar_date__3': datetime.date(2024, 12, 13), 'low_price__4': '245.6800', 'volume__4': '32777532', 'ticker__4': 'AAPL', 'open_price__4': '246.8900', 'close_price__4': '247.9600', 'timeframe__4': 'daily', 'bar_time__4': datetime.time(0, 0), 'high_price__4': '248.7400', 'bar_date__4': datetime.date(2024, 12, 12), 'low_price__5': '246.2601', 'volume__5': '45205814', 'ticker__5': 'AAPL', 'open_price__5': '247.9600', 'close_price__5': '246.4900' ... 8900 parameters truncated ... 'close_price__994': '126.6000', 'timeframe__994': 'daily', 'bar_time__994': datetime.time(0, 0), 'high_price__994': '131.0499', 'bar_date__994': datetime.date(2021, 1, 6), 'low_price__995': '128.4300', 'volume__995': '97664898', 'ticker__995': 'AAPL', 'open_price__995': '128.8900', 'close_price__995': '131.0100', 'timeframe__995': 'daily', 'bar_time__995': datetime.time(0, 0), 'high_price__995': '131.7400', 'bar_date__995': datetime.date(2021, 1, 5), 'low_price__996': '126.7600', 'volume__996': '143301887', 'ticker__996': 'AAPL', 'open_price__996': '133.5200', 'close_price__996': '129.4100', 'timeframe__996': 'daily', 'bar_time__996': datetime.time(0, 0), 'high_price__996': '133.6116', 'bar_date__996': datetime.date(2021, 1, 4), 'low_price__997': '131.7200', 'volume__997': '99116586', 'ticker__997': 'AAPL', 'open_price__997': '134.0800', 'close_price__997': '132.6900', 'timeframe__997': 'daily', 'bar_time__997': datetime.time(0, 0), 'high_price__997': '134.7400', 'bar_date__997': datetime.date(2020, 12, 31), 'low_price__998': '133.4000', 'volume__998': '96452124', 'ticker__998': 'AAPL', 'open_price__998': '135.5800', 'close_price__998': '133.7200', 'timeframe__998': 'daily', 'bar_time__998': datetime.time(0, 0), 'high_price__998': '135.9900', 'bar_date__998': datetime.date(2020, 12, 30), 'low_price__999': '134.3409', 'volume__999': '121047324', 'ticker__999': 'AAPL', 'open_price__999': '138.0500', 'close_price__999': '134.8700', 'timeframe__999': 'daily', 'bar_time__999': datetime.time(0, 0), 'high_price__999': '138.7890', 'bar_date__999': datetime.date(2020, 12, 29)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-12-19 18:31:56,186 - src.agents.data_fetcher - ERROR - Error fetching data: (psycopg2.errors.UniqueViolation) llave duplicada viola restricción de unicidad «ohlc_data_ticker_bar_date_bar_time_timeframe_key»
DETAIL:  Ya existe la llave (ticker, bar_date, bar_time, timeframe)=(AAPL, 2024-12-18, 00:00:00, daily).

[SQL: INSERT INTO ohlc_data (ticker, bar_date, bar_time, timeframe, open_price, high_price, low_price, close_price, volume) VALUES (%(ticker__0)s, %(bar_date__0)s, %(bar_time__0)s, %(timeframe__0)s, %(open_price__0)s, %(high_price__0)s, %(low_price__0)s, % ... 176783 characters truncated ... %(open_price__999)s, %(high_price__999)s, %(low_price__999)s, %(close_price__999)s, %(volume__999)s)]
[parameters: {'low_price__0': '247.7400', 'volume__0': '56774101', 'ticker__0': 'AAPL', 'open_price__0': '252.1600', 'close_price__0': '248.0500', 'timeframe__0': 'daily', 'bar_time__0': datetime.time(0, 0), 'high_price__0': '254.2800', 'bar_date__0': datetime.date(2024, 12, 18), 'low_price__1': '249.7800', 'volume__1': '51356360', 'ticker__1': 'AAPL', 'open_price__1': '250.0800', 'close_price__1': '253.4800', 'timeframe__1': 'daily', 'bar_time__1': datetime.time(0, 0), 'high_price__1': '253.8300', 'bar_date__1': datetime.date(2024, 12, 17), 'low_price__2': '247.6500', 'volume__2': '51694753', 'ticker__2': 'AAPL', 'open_price__2': '247.9900', 'close_price__2': '251.0400', 'timeframe__2': 'daily', 'bar_time__2': datetime.time(0, 0), 'high_price__2': '251.3800', 'bar_date__2': datetime.date(2024, 12, 16), 'low_price__3': '246.2400', 'volume__3': '33155290', 'ticker__3': 'AAPL', 'open_price__3': '247.8150', 'close_price__3': '248.1300', 'timeframe__3': 'daily', 'bar_time__3': datetime.time(0, 0), 'high_price__3': '249.2902', 'bar_date__3': datetime.date(2024, 12, 13), 'low_price__4': '245.6800', 'volume__4': '32777532', 'ticker__4': 'AAPL', 'open_price__4': '246.8900', 'close_price__4': '247.9600', 'timeframe__4': 'daily', 'bar_time__4': datetime.time(0, 0), 'high_price__4': '248.7400', 'bar_date__4': datetime.date(2024, 12, 12), 'low_price__5': '246.2601', 'volume__5': '45205814', 'ticker__5': 'AAPL', 'open_price__5': '247.9600', 'close_price__5': '246.4900' ... 8900 parameters truncated ... 'close_price__994': '126.6000', 'timeframe__994': 'daily', 'bar_time__994': datetime.time(0, 0), 'high_price__994': '131.0499', 'bar_date__994': datetime.date(2021, 1, 6), 'low_price__995': '128.4300', 'volume__995': '97664898', 'ticker__995': 'AAPL', 'open_price__995': '128.8900', 'close_price__995': '131.0100', 'timeframe__995': 'daily', 'bar_time__995': datetime.time(0, 0), 'high_price__995': '131.7400', 'bar_date__995': datetime.date(2021, 1, 5), 'low_price__996': '126.7600', 'volume__996': '143301887', 'ticker__996': 'AAPL', 'open_price__996': '133.5200', 'close_price__996': '129.4100', 'timeframe__996': 'daily', 'bar_time__996': datetime.time(0, 0), 'high_price__996': '133.6116', 'bar_date__996': datetime.date(2021, 1, 4), 'low_price__997': '131.7200', 'volume__997': '99116586', 'ticker__997': 'AAPL', 'open_price__997': '134.0800', 'close_price__997': '132.6900', 'timeframe__997': 'daily', 'bar_time__997': datetime.time(0, 0), 'high_price__997': '134.7400', 'bar_date__997': datetime.date(2020, 12, 31), 'low_price__998': '133.4000', 'volume__998': '96452124', 'ticker__998': 'AAPL', 'open_price__998': '135.5800', 'close_price__998': '133.7200', 'timeframe__998': 'daily', 'bar_time__998': datetime.time(0, 0), 'high_price__998': '135.9900', 'bar_date__998': datetime.date(2020, 12, 30), 'low_price__999': '134.3409', 'volume__999': '121047324', 'ticker__999': 'AAPL', 'open_price__999': '138.0500', 'close_price__999': '134.8700', 'timeframe__999': 'daily', 'bar_time__999': datetime.time(0, 0), 'high_price__999': '138.7890', 'bar_date__999': datetime.date(2020, 12, 29)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-12-19 18:31:56,187 - __main__ - ERROR - Error processing query: (psycopg2.errors.UniqueViolation) llave duplicada viola restricción de unicidad «ohlc_data_ticker_bar_date_bar_time_timeframe_key»
DETAIL:  Ya existe la llave (ticker, bar_date, bar_time, timeframe)=(AAPL, 2024-12-18, 00:00:00, daily).

[SQL: INSERT INTO ohlc_data (ticker, bar_date, bar_time, timeframe, open_price, high_price, low_price, close_price, volume) VALUES (%(ticker__0)s, %(bar_date__0)s, %(bar_time__0)s, %(timeframe__0)s, %(open_price__0)s, %(high_price__0)s, %(low_price__0)s, % ... 176783 characters truncated ... %(open_price__999)s, %(high_price__999)s, %(low_price__999)s, %(close_price__999)s, %(volume__999)s)]
[parameters: {'low_price__0': '247.7400', 'volume__0': '56774101', 'ticker__0': 'AAPL', 'open_price__0': '252.1600', 'close_price__0': '248.0500', 'timeframe__0': 'daily', 'bar_time__0': datetime.time(0, 0), 'high_price__0': '254.2800', 'bar_date__0': datetime.date(2024, 12, 18), 'low_price__1': '249.7800', 'volume__1': '51356360', 'ticker__1': 'AAPL', 'open_price__1': '250.0800', 'close_price__1': '253.4800', 'timeframe__1': 'daily', 'bar_time__1': datetime.time(0, 0), 'high_price__1': '253.8300', 'bar_date__1': datetime.date(2024, 12, 17), 'low_price__2': '247.6500', 'volume__2': '51694753', 'ticker__2': 'AAPL', 'open_price__2': '247.9900', 'close_price__2': '251.0400', 'timeframe__2': 'daily', 'bar_time__2': datetime.time(0, 0), 'high_price__2': '251.3800', 'bar_date__2': datetime.date(2024, 12, 16), 'low_price__3': '246.2400', 'volume__3': '33155290', 'ticker__3': 'AAPL', 'open_price__3': '247.8150', 'close_price__3': '248.1300', 'timeframe__3': 'daily', 'bar_time__3': datetime.time(0, 0), 'high_price__3': '249.2902', 'bar_date__3': datetime.date(2024, 12, 13), 'low_price__4': '245.6800', 'volume__4': '32777532', 'ticker__4': 'AAPL', 'open_price__4': '246.8900', 'close_price__4': '247.9600', 'timeframe__4': 'daily', 'bar_time__4': datetime.time(0, 0), 'high_price__4': '248.7400', 'bar_date__4': datetime.date(2024, 12, 12), 'low_price__5': '246.2601', 'volume__5': '45205814', 'ticker__5': 'AAPL', 'open_price__5': '247.9600', 'close_price__5': '246.4900' ... 8900 parameters truncated ... 'close_price__994': '126.6000', 'timeframe__994': 'daily', 'bar_time__994': datetime.time(0, 0), 'high_price__994': '131.0499', 'bar_date__994': datetime.date(2021, 1, 6), 'low_price__995': '128.4300', 'volume__995': '97664898', 'ticker__995': 'AAPL', 'open_price__995': '128.8900', 'close_price__995': '131.0100', 'timeframe__995': 'daily', 'bar_time__995': datetime.time(0, 0), 'high_price__995': '131.7400', 'bar_date__995': datetime.date(2021, 1, 5), 'low_price__996': '126.7600', 'volume__996': '143301887', 'ticker__996': 'AAPL', 'open_price__996': '133.5200', 'close_price__996': '129.4100', 'timeframe__996': 'daily', 'bar_time__996': datetime.time(0, 0), 'high_price__996': '133.6116', 'bar_date__996': datetime.date(2021, 1, 4), 'low_price__997': '131.7200', 'volume__997': '99116586', 'ticker__997': 'AAPL', 'open_price__997': '134.0800', 'close_price__997': '132.6900', 'timeframe__997': 'daily', 'bar_time__997': datetime.time(0, 0), 'high_price__997': '134.7400', 'bar_date__997': datetime.date(2020, 12, 31), 'low_price__998': '133.4000', 'volume__998': '96452124', 'ticker__998': 'AAPL', 'open_price__998': '135.5800', 'close_price__998': '133.7200', 'timeframe__998': 'daily', 'bar_time__998': datetime.time(0, 0), 'high_price__998': '135.9900', 'bar_date__998': datetime.date(2020, 12, 30), 'low_price__999': '134.3409', 'volume__999': '121047324', 'ticker__999': 'AAPL', 'open_price__999': '138.0500', 'close_price__999': '134.8700', 'timeframe__999': 'daily', 'bar_time__999': datetime.time(0, 0), 'high_price__999': '138.7890', 'bar_date__999': datetime.date(2020, 12, 29)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-12-19 19:21:22,661 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 19:21:24,526 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:21:24,526 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:21:24,660 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 19:21:24,745 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 19:21:24,746 - __main__ - INFO - Database operations initialized successfully
2024-12-19 19:21:24,746 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 19:21:50,545 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 19:21:50,545 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:21:50,545 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:21:50,704 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 19:21:50,706 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:21:50,707 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:21:50,834 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 19:21:50,834 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 19:21:50,834 - __main__ - INFO - Database operations initialized successfully
2024-12-19 19:21:50,834 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 19:21:50,975 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 19:21:50,975 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 19:21:50,975 - __main__ - INFO - Database operations initialized successfully
2024-12-19 19:21:50,975 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 19:21:50,988 - src.agents.query_parser - INFO - Parsing query: Analiza datos diarios de AAPL del ultimo año
2024-12-19 19:21:53,030 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 19:21:53,039 - src.agents.query_parser - INFO - Successfully parsed query: {'ticker': 'AAPL', 'start_date': '2021-03-27', 'end_date': '2022-03-27', 'timeframe': 'daily'}
2024-12-19 19:21:53,041 - __main__ - INFO - Parsed query: {'ticker': 'AAPL', 'start_date': '2021-03-27', 'end_date': '2022-03-27', 'timeframe': 'daily'}
2024-12-19 19:21:53,042 - src.agents.data_fetcher - INFO - Fetching data for ticker: AAPL, timeframe: daily, dates: 2021-03-27 to 2022-03-27
2024-12-19 19:21:53,147 - src.agents.data_fetcher - INFO - Data retrieved from database
2024-12-19 19:23:25,386 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 19:23:25,395 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:23:25,397 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:23:25,557 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 19:23:25,564 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:23:25,564 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:23:25,747 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 19:23:25,747 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 19:23:25,747 - __main__ - INFO - Database operations initialized successfully
2024-12-19 19:23:25,747 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 19:23:25,859 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 19:23:25,859 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 19:23:25,859 - __main__ - INFO - Database operations initialized successfully
2024-12-19 19:23:25,859 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 19:23:25,859 - src.agents.query_parser - INFO - Parsing query: Analiza datos diarios de AAPL del 1 de enero al 31 de diciembre de 2023
2024-12-19 19:23:29,157 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 19:23:29,162 - src.agents.query_parser - INFO - Successfully parsed query: {'ticker': 'AAPL', 'start_date': '2023-01-01', 'end_date': '2023-12-31', 'timeframe': 'daily'}
2024-12-19 19:23:29,162 - __main__ - INFO - Parsed query: {'ticker': 'AAPL', 'start_date': '2023-01-01', 'end_date': '2023-12-31', 'timeframe': 'daily'}
2024-12-19 19:23:29,162 - src.agents.data_fetcher - INFO - Fetching data for ticker: AAPL, timeframe: daily, dates: 2023-01-01 to 2023-12-31
2024-12-19 19:23:29,232 - src.agents.data_fetcher - INFO - Data retrieved from database
2024-12-19 19:28:43,325 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 19:28:43,333 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:28:43,334 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:28:43,474 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 19:28:43,480 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:28:43,481 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:28:43,663 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 19:28:43,663 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 19:28:43,663 - __main__ - INFO - Database operations initialized successfully
2024-12-19 19:28:43,663 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 19:28:43,794 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 19:28:43,794 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 19:28:43,794 - __main__ - INFO - Database operations initialized successfully
2024-12-19 19:28:43,794 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 19:28:43,805 - src.agents.query_parser - INFO - Parsing query: Analiza datos semanales de MSFT desde enero de 2000 a la fecha
2024-12-19 19:28:45,643 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 19:28:45,672 - src.agents.query_parser - INFO - Successfully parsed query: {'ticker': 'MSFT', 'start_date': '2000-01-01', 'end_date': None, 'timeframe': 'weekly'}
2024-12-19 19:28:45,673 - __main__ - INFO - Parsed query: {'ticker': 'MSFT', 'start_date': '2000-01-01', 'end_date': None, 'timeframe': 'weekly'}
2024-12-19 19:28:45,674 - src.agents.data_fetcher - INFO - Fetching data for ticker: MSFT, timeframe: weekly, dates: 2000-01-01 to None
2024-12-19 19:28:45,763 - src.agents.data_fetcher - INFO - Data not found in database. Fetching from API
2024-12-19 19:28:46,800 - src.api.alpha_vantage - INFO - Fetched 1311 records from Alpha Vantage for ticker: MSFT
2024-12-19 19:28:46,801 - src.agents.data_fetcher - INFO - Data fetched from API successfully
2024-12-19 19:28:46,801 - src.agents.data_fetcher - ERROR - Error fetching data: 'DatabaseOperations' object has no attribute 'save_stock_data'
2024-12-19 19:28:46,801 - __main__ - ERROR - Error processing query: 'DatabaseOperations' object has no attribute 'save_stock_data'
2024-12-19 19:30:50,920 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 19:30:50,920 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:30:50,927 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:30:51,073 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 19:30:51,074 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 19:30:51,074 - __main__ - INFO - Database operations initialized successfully
2024-12-19 19:30:51,075 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 19:30:51,076 - src.agents.query_parser - INFO - Parsing query: Analiza datos semanales de MSFT desde enero de 2000 a la fecha
2024-12-19 19:30:52,776 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 19:30:52,776 - src.agents.query_parser - INFO - Successfully parsed query: {'ticker': 'MSFT', 'start_date': '2000-01-01', 'end_date': None, 'timeframe': 'weekly'}
2024-12-19 19:30:52,782 - __main__ - INFO - Parsed query: {'ticker': 'MSFT', 'start_date': '2000-01-01', 'end_date': None, 'timeframe': 'weekly'}
2024-12-19 19:30:52,782 - src.agents.data_fetcher - INFO - Fetching data for ticker: MSFT, timeframe: weekly, dates: 2000-01-01 to None
2024-12-19 19:30:52,834 - src.agents.data_fetcher - INFO - Data not found in database. Fetching from API
2024-12-19 19:30:53,854 - src.api.alpha_vantage - INFO - Fetched 1311 records from Alpha Vantage for ticker: MSFT
2024-12-19 19:30:53,856 - src.agents.data_fetcher - INFO - Data fetched from API successfully
2024-12-19 19:30:53,856 - src.agents.data_fetcher - ERROR - Error fetching data: 'DatabaseOperations' object has no attribute 'save_stock_data'
2024-12-19 19:30:53,856 - __main__ - ERROR - Error processing query: 'DatabaseOperations' object has no attribute 'save_stock_data'
2024-12-19 19:38:34,293 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 19:38:35,176 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:38:35,190 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:38:35,294 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 19:38:35,342 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 19:38:35,342 - __main__ - INFO - Database operations initialized successfully
2024-12-19 19:38:35,343 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 19:39:13,019 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 19:39:13,029 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:39:13,030 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:39:13,226 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 19:39:13,229 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:39:13,229 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:39:13,343 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 19:39:13,343 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 19:39:13,343 - __main__ - INFO - Database operations initialized successfully
2024-12-19 19:39:13,343 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 19:39:13,460 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 19:39:13,460 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 19:39:13,460 - __main__ - INFO - Database operations initialized successfully
2024-12-19 19:39:13,460 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 19:39:13,460 - src.agents.query_parser - INFO - Parsing query: analiza datos semanales de MSFT del 1 de enero de 2000 al 31 de diciembre de 2023
2024-12-19 19:39:15,485 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 19:39:15,497 - src.agents.query_parser - INFO - Successfully parsed query: {'ticker': 'MSFT', 'start_date': '2000-01-01', 'end_date': '2023-12-31', 'timeframe': 'weekly'}
2024-12-19 19:39:15,497 - __main__ - INFO - Parsed query: {'ticker': 'MSFT', 'start_date': '2000-01-01', 'end_date': '2023-12-31', 'timeframe': 'weekly'}
2024-12-19 19:39:15,498 - src.agents.data_fetcher - INFO - Fetching data for ticker: MSFT, timeframe: weekly, dates: 2000-01-01 to 2023-12-31
2024-12-19 19:39:15,569 - src.agents.data_fetcher - INFO - Data not found in database. Fetching from API
2024-12-19 19:39:16,551 - src.api.alpha_vantage - INFO - Fetched 1311 records from Alpha Vantage for ticker: MSFT
2024-12-19 19:39:16,553 - src.agents.data_fetcher - INFO - Data fetched from API successfully
2024-12-19 19:39:16,610 - src.database.operations - INFO - Added new fundamental data for ticker: MSFT
2024-12-19 19:39:16,871 - src.database.operations - INFO - Saved 1311 new OHLC records for ticker: MSFT
2024-12-19 19:39:16,874 - src.agents.data_fetcher - INFO - Fetched data saved to database
2024-12-19 19:55:32,042 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 19:55:32,989 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:55:32,990 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:55:33,114 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 19:55:33,150 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 19:55:33,150 - __main__ - INFO - Database operations initialized successfully
2024-12-19 19:55:33,150 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 19:55:58,547 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 19:55:58,559 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:55:58,560 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:55:58,706 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 19:55:58,707 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 19:55:58,707 - __main__ - INFO - Database operations initialized successfully
2024-12-19 19:55:58,708 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 19:56:09,381 - __main__ - INFO - Added C:\Users\jvazq\Data_Analysis_Tools\projects\yenka_ia1 to Python path
2024-12-19 19:56:09,389 - __main__ - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:56:09,389 - src.agents.query_parser - INFO - Initializing QueryParser with OpenAI API
2024-12-19 19:56:09,529 - __main__ - INFO - QueryParser initialized successfully
2024-12-19 19:56:09,529 - src.database.operations - INFO - PostgreSQL database connection initialized
2024-12-19 19:56:09,529 - __main__ - INFO - Database operations initialized successfully
2024-12-19 19:56:09,530 - src.agents.data_fetcher - INFO - Initializing DataFetcher
2024-12-19 19:56:09,532 - src.agents.query_parser - INFO - Parsing query: Analiza datos semanales de MSFT desde el 1 de enero de 2000 hasta hoy
2024-12-19 19:56:10,173 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-12-19 19:56:10,183 - src.agents.query_parser - INFO - Successfully parsed query: {'ticker': 'MSFT', 'start_date': '2000-01-01', 'end_date': '2023-10-24', 'timeframe': 'weekly'}
2024-12-19 19:56:10,183 - __main__ - INFO - Parsed query: {'ticker': 'MSFT', 'start_date': '2000-01-01', 'end_date': '2023-10-24', 'timeframe': 'weekly'}
2024-12-19 19:56:10,183 - src.agents.data_fetcher - INFO - Fetching data for ticker: MSFT, timeframe: weekly, dates: 2000-01-01 to 2023-10-24
2024-12-19 19:56:10,249 - src.agents.data_fetcher - INFO - Data retrieved from database
